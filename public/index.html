<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OTS Back Gate Control</title>
<script src="client.js"></script> 
<script src='https://cdn.jsdelivr.net/npm/rtsp-relay@1.9.0/browser/index.js'></script>
<!-- Import school font -->
<link rel="stylesheet" href="https://use.typekit.net/jjk0lig.css"> 
<style>
  body {
    font-family: freight-sans-pro, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background-color: #f7f7f7;
  }
  .gate-control {
    text-align: center;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background: #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  .live-feed {
    text-align: center;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background: #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  button {
    font-family: freight-sans-pro, sans-serif;
    padding: 10px 20px;
    font-size: 16px;
    color: #fff;
    background-color: #275d38;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  button:hover {
    background-color: #275d38c5;
  }
</style>
</head>
<body>
<div class="gate-control">
    <h1>OTS Gate Control</h1>
    <div class="live-feed">
        <canvas id="canvas" style="width: 640px; height: 480px">
          <!-- loads the video player -->
        <script>
            loadPlayer({
                url: 'ws://' + location.host + '/cameraFeed',
                canvas: document.getElementById('canvas')
            });
        </script>
    
  </div> 
  
  <p></p>
  <button id="gate-toggle">Open Gate</button>
  <p><h3>Gate will remain open for ~5 seconds. 
    <p><a href="http://10.86.128.99/setup.html" target="_blank">To hold open,</a> contact facilities for a schedule change.</p></h3></p>
</div>
</body>
</html>